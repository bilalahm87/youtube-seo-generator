<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YouTube SEO AI Generator</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; padding: 20px; }
    h2 { text-align: center; }
    label { font-weight: bold; }
    input, button { width: 100%; padding: 10px; margin: 5px 0 15px; }
    button { cursor: pointer; }
    pre { background: #f4f4f4; padding: 15px; white-space: pre-wrap; word-wrap: break-word; }
    .warning { color: red; font-weight: bold; }
  </style>
</head>
<body>
  <h2>YouTube Description & Hashtags Generator</h2>
  <form id="seoForm">
    <label>Video Title:</label>
    <input type="text" id="video_title" required placeholder="Enter video title">

    <label>Video Topic:</label>
    <input type="text" id="video_topic" required placeholder="Enter video topic">

    <button type="submit">Generate</button>
  </form>

 <div id="usage" class="warning"></div>

<h3>Result:</h3>

<h4>Description:</h4>
<p id="desc"></p>

<h4>Hashtags:</h4>
<p id="hashtags"></p>

<h4>YouTube Tags:</h4>
<p id="ytTags"></p>


  <script>
    const form = document.getElementById('seoForm');
    const resultEl = document.getElementById('result');
    const usageEl = document.getElementById('usage');

    // Simple session-based usage counter
    let usageCount = 0;
    const MAX_USAGE = 5;

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      if(usageCount >= MAX_USAGE){
        usageEl.textContent = "You have reached the maximum allowed requests for this session.";
        return;
      }

      const title = document.getElementById('video_title').value.trim();
      const topic = document.getElementById('video_topic').value.trim();

      if(!title || !topic){
        alert("Please fill both fields!");
        return;
      }

      usageCount++;
      usageEl.textContent = `Requests used: ${usageCount} / ${MAX_USAGE}`;

      try {
        const response = await fetch('https://bilal87.app.n8n.cloud/webhook/youtube-metadata', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({video_title: title, video_topic: topic})
        });

        const data = await response.json();

document.getElementById('desc').textContent = data.description || "No description generated";
document.getElementById('hashtags').textContent = (data.hashtags || ["#default"]).join(", ");
document.getElementById('ytTags').textContent = (data.tags || ["default"]).join(", ");


      } catch(err) {
        resultEl.textContent = "Error: Could not generate content. Please try again.";
        console.error(err);
      }
    });
  </script>
</body>
</html>

